<title> Avarage temprature in De Bilt(NL)</title>
<head>
<header style="text-align:center;font-family:comic sans ms;"> Avarage temprature in De Bilt (NL) </header>
</head>
<body>
<canvas id="chart" width="800" height="600"></canvas>
<textarea id="rawdata" style="visibility:hidden;">
#data,avgtemp
20080101,   19
20080102,   -6
20080103,    6
20080104,   33
20080105,   67
20080106,   37
20080107,   71
20080108,   60
20080109,   65
20080110,   76
20080111,   97
20080112,   58
20080113,   56
20080114,   66
20080115,   85
20080116,   72
20080117,   61
20080118,   97
20080119,  109
20080120,  116
20080121,  101
20080122,   44
20080123,   69
20080124,   85
20080125,   66
20080126,   82
20080127,   86
20080128,   83
20080129,   64
20080130,   46
20080131,   45
20080201,   59
20080202,   31
20080203,   31
20080204,   59
20080205,   78
20080206,   73
20080207,   49
20080208,   68
20080209,   56
20080210,   55
20080211,   54
20080212,   50
20080213,   17
20080214,   32
20080215,   20
20080216,   -5
20080217,   -7
20080218,    4
20080219,   17
20080220,   11
20080221,   71
20080222,   98
20080223,   84
20080224,   95
20080225,   79
20080226,   99
20080227,   71
20080228,   69
20080229,   72
20080301,   94
20080302,   99
20080303,   61
20080304,   28
20080305,   34
20080306,   74
20080307,   69
20080308,   67
20080309,   77
20080310,   63
20080311,   83
20080312,   80
20080313,   80
20080314,   74
20080315,   80
20080316,   80
20080317,   48
20080318,   39
20080319,   40
20080320,   53
20080321,   35
20080322,   18
20080323,    7
20080324,   14
20080325,   13
20080326,   29
20080327,   45
20080328,   67
20080329,   94
20080330,   93
20080331,   91
20080401,   85
20080402,   85
20080403,   78
20080404,   88
20080405,   70
20080406,   41
20080407,   31
20080408,   37
20080409,   58
20080410,   64
20080411,   78
20080412,   79
20080413,   78
20080414,   64
20080415,   56
20080416,   46
20080417,   62
20080418,   81
20080419,   89
20080420,  118
20080421,  128
20080422,  132
20080423,  132
20080424,  116
20080425,  107
20080426,  146
20080427,  169
20080428,  124
20080429,  111
20080430,  125
20080501,   99
20080502,  104
20080503,  131
20080504,  156
20080505,  163
20080506,  175
20080507,  183
20080508,  188
20080509,  196
20080510,  205
20080511,  197
20080512,  198
20080513,  192
20080514,  190
20080515,  168
20080516,  130
20080517,  109
20080518,  104
20080519,   92
20080520,  109
20080521,  132
20080522,  150
20080523,  171
20080524,  184
20080525,  149
20080526,  139
20080527,  173
20080528,  194
20080529,  167
20080530,  161
20080531,  150
20080601,  167
20080602,  220
20080603,  187
20080604,  165
20080605,  157
20080606,  197
20080607,  174
20080608,  196
20080609,  201
20080610,  169
20080611,  147
20080612,  118
20080613,  127
20080614,  123
20080615,  120
20080616,  118
20080617,  138
20080618,  160
20080619,  159
20080620,  160
20080621,  186
20080622,  202
20080623,  143
20080624,  161
20080625,  182
20080626,  174
20080627,  170
20080628,  181
20080629,  173
20080630,  171
20080701,  200
20080702,  218
20080703,  181
20080704,  170
20080705,  175
20080706,  179
20080707,  158
20080708,  147
20080709,  156
20080710,  169
20080711,  166
20080712,  150
20080713,  151
20080714,  172
20080715,  177
20080716,  169
20080717,  150
20080718,  163
20080719,  160
20080720,  139
20080721,  135
20080722,  162
20080723,  183
20080724,  205
20080725,  221
20080726,  214
20080727,  227
20080728,  232
20080729,  207
20080730,  219
20080731,  241
20080801,  200
20080802,  191
20080803,  183
20080804,  177
20080805,  190
20080806,  217
20080807,  191
20080808,  167
20080809,  171
20080810,  182
20080811,  171
20080812,  170
20080813,  167
20080814,  151
20080815,  147
20080816,  159
20080817,  163
20080818,  161
20080819,  175
20080820,  167
20080821,  170
20080822,  145
20080823,  148
20080824,  152
20080825,  180
20080826,  175
20080827,  168
20080828,  178
20080829,  182
20080830,  187
20080831,  207
20080901,  171
20080902,  151
20080903,  139
20080904,  154
20080905,  161
20080906,  174
20080907,  151
20080908,  148
20080909,  173
20080910,  180
20080911,  201
20080912,  163
20080913,  129
20080914,  119
20080915,  118
20080916,  124
20080917,  112
20080918,   99
20080919,  102
20080920,  106
20080921,  126
20080922,  133
20080923,  132
20080924,  130
20080925,  117
20080926,  116
20080927,  104
20080928,  110
20080929,  116
20080930,  124
20081001,  121
20081002,   94
20081003,   84
20081004,   91
20081005,  113
20081006,  110
20081007,  144
20081008,  125
20081009,   93
20081010,  112
20081011,  136
20081012,  134
20081013,  158
20081014,  150
20081015,  138
20081016,  109
20081017,   88
20081018,  102
20081019,  113
20081020,  129
20081021,  100
20081022,   85
20081023,   94
20081024,   89
20081025,   80
20081026,  119
20081027,   85
20081028,   42
20081029,   12
20081030,   26
20081031,   49
20081101,   63
20081102,   84
20081103,   80
20081104,   68
20081105,   90
20081106,  100
20081107,   90
20081108,   91
20081109,  101
20081110,  129
20081111,   94
20081112,   82
20081113,   84
20081114,   98
20081115,  113
20081116,   82
20081117,   63
20081118,   74
20081119,   92
20081120,   98
20081121,   52
20081122,   18
20081123,    8
20081124,    8
20081125,   23
20081126,   47
20081127,   63
20081128,   37
20081129,   19
20081130,    5
20081201,   37
20081202,   36
20081203,   23
20081204,   26
20081205,   52
20081206,   56
20081207,   48
20081208,   20
20081209,   17
20081210,   20
20081211,   31
20081212,   16
20081213,   -5
20081214,   23
20081215,   22
20081216,    0
20081217,   23
20081218,   43
20081219,   63
20081220,   86
20081221,   89
20081222,   77
20081223,   51
20081224,   66
20081225,   36
20081226,   -9
20081227,  -22
20081228,  -28
20081229,  -38
20081230,  -44
20081231,  -56 </textarea>
<script>

  // access all the text in the webpage
  var rawdata = document.getElementById("rawdata").innerHTML.split("\n")

  // slicing of the words 'data' and 'avgtemp'
  var lines = rawdata.slice(1)

  var dateList = []
  var tempList = []

  // taking all correct elements for year, month and day
  for(let i = 0; i <= lines.length-1; i++)
  {
    // divide elements by the comma
    var dateTemp = lines[i].split(",");

    var year = dateTemp[0].slice(0,4)

    // first month of the year starts at zero so minus one
    var month = dateTemp[0].slice(4,6) -1

    var day = dateTemp[0].slice(6)

    // getting the right format for date and convert it to the date list
    var date = new Date(year, month, day)
    dateList.push(date)

    // inserting all the tempratures in tempraturelist as a number
    var temp = Number(dateTemp[1])
    tempList.push(temp)
    // console.log(date)
    // console.log(temp)

  }

  function createTransform(domain, range){
	// domain is a two-element array of the data bounds [domain_min, domain_max]
	// range is a two-element array of the screen bounds [range_min, range_max]
	// this gives you two equations to solve:
	// range_min = alpha * domain_min + beta
	// range_max = alpha * domain_max + beta
 		// a solution would be:

    var domain_min = domain[0]
    var domain_max = domain[1]
    var range_min = range[0]
    var range_max = range[1]

    // formulas to calculate the alpha and the beta
   	var alpha = (range_max - range_min) / (domain_max - domain_min)
    var beta = range_max - alpha * domain_max

    // returns the function for the linear transformation (y= a * x + b)
    return function(x){
      return alpha * x + beta;
    }
  }

  // dit is van mij:

  var canvas = document.getElementById('chart');
  var ctx = canvas.getContext('2d');

  celcius = ['35', '30', '25', '20', '15', '10', '5', '0', '-5', '-10']
  months = ['January', 'February', 'March', 'April', 'May', 'June', 'July',
            'Augustus', 'September', 'October', 'November', 'December']


  var x = 10;
  var y = 0;
  var xDistance = 10;
  var yDistance = 40;

  for(let i = 0; i < celcius.length; i++)
  {
    ctx.beginPath();
    ctx.moveTo(x, y);
    x += xDistance;
    ctx.lineTo(x, y);
    ctx.moveTo(x, y);
    y += yDistance;
    ctx.lineTo(x, y);
    x -= xDistance;
    ctx.moveTo(x, y);
    x += xDistance;
    ctx.lineTo(x, y);
    ctx.stroke();
    // setting x at ten otherwise the line for y-as wouldn't be straight
    x = 10
  }

  var newX = 30;
  var newY = 410;
  var newXDistance = 60;
  var newYDistance = 10;

  for(let i = 0; i < months.length-1; i++)
  {

    ctx.beginPath();
    ctx.moveTo(newX, newY);
    newY -= newYDistance;
    ctx.lineTo(newX, newY);
    newX += newXDistance;
    ctx.lineTo(newX, newY);
    newY += newYDistance;
    ctx.lineTo(newX, newY);
    newY -= newYDistance;
    ctx.moveTo(newX, newY);
    console.log(newX);
    console.log(newY);
    ctx.stroke();
    newY = 410;

  }

</script>
</body>
