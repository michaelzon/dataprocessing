<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="d3.js"></script>
    <!-- <script type="text/javascript" src="barchartscript.js"></script> -->
    <script type="text/javascript" src="importdata.js"></script>
    <title> Lego Barchart </title>
  </head>
  <body>
    <header> Barchart </header>
    <div class="bar"></div>

    <script type="text/javascript">

      // writing information to my webpage per paragraph
      paragraph = d3.select("body").append("p")
      paragraph.text("Name: Michael Zonneveld")
      d3.select("body").append("p").text("Studentnummer: 11302984")
      d3.select("body").append("p").text("This barchart shows the avarage size of legosets over the years")

      // creating arrays for easier coding later on
      yearsArray = [];
      numbersArray = [];

      // fetching data about Lego in JSON format
      d3.json("11302984_legofile.json", function(data) {
        var lego = data;
        for(var i = 0; i < lego.stats.length; i++){
           d3.select("body").append("p").text(lego.stats[i]['year'])
           years = (lego.stats[i]['year'])
           yearsArray.push(years)
           d3.select("body").append("p").text(lego.stats[i]['num_parts_MEAN'])
           numbers = (lego.stats[i]['num_parts_MEAN'])
           numbersArray.push(numbers)
        }
      console.log(yearsArray)
      console.log(numbersArray)

      //Width and height
      var w = 700;
      var h = 250;
      var x = 0;
      var y = 10;

      // creating a canvas for my barchart
      var svg = d3.select("body").append("svg")
                  .attr("width", w)
                  .attr("height", h)

      svg.selectAll("rect")
        .data(numbersArray)
        // lego.length, dat getal zoveel rects ga ik aanmaken
        .enter()
          .append("rect")
          .attr("x", x)
          .attr("y", y)
          // referencing to the right propertie of our data
          .attr("width", 50)
          .attr("height", 40)

              // referencing to the right propertie of our data
              // .attr("width", function (d) {return lego.data[2]['num_parts_MEAN']})
              // .attr("height", 40)

              // // return index of each element
              // .attr("y", function(d, i) {i * 50})
              // .attr("fill", "steelblue")



      });
    </script>
  </body>
</html>
